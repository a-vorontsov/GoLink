<ion-view title="Trainers Near Me">
  <ion-content lazy-scroll class="content-stable">

    <div ng-show="isLoading">
      <ion-spinner></ion-spinner>
      <p>Loading messages</p>
    </div>
    <div ng-hide="isLoading">
      <div ng-show="!isMessagePresent">
        <p>No messages in your radius in the past 24 hours. Share this app with other trainers and get the chat going!</p>
      </div>
      <div ng-repeat="message in messages" class="messages">
        <div ng-hide="message.is_hidden">
          <public-message data="message" on-hold="onMessageClicked(message, message.user.is_me);"></public-message>
        </div>
      </div>
    </div>

  </ion-content>
  <ion-footer-bar keyboard-attach class="bar-stable item-input-inset">
    <label class="item-input-wrapper">
      <input chat-input="" type="text" placeholder="Type your message" on-return="sendMessage();" ng-model="data.message" on-focus="inputUp()" on-blur="inputDown()"/>
    </label>
    <button ng-show="data.message.length !== 0" class="button button-ion button-clear" ng-click="sendMessage();">
      <i class="ion-android-send"></i>
    </button>
    <button ng-show="data.message.length === 0" class="button button-ion button-clear" ng-click="showSendLocationPopup();">
      <i class="ion-location"></i>
    </button>
  </ion-footer-bar>
</ion-view>
